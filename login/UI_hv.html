<!DOCTYPE html>
<html lang = "vi">
    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "width=device-width, initial-scale = 1.0">
        <title>Trang ch·ªß h·ªçc vi√™n</title>
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

        <style>
            /*Thi·∫øt l·∫≠p chung v√† font ch·ªØ*/
            body {
                font-family: Arial, Helvetica, sans-serif;
                margin: 0;
                padding: 0;
                background-color: #f4f4f9;
                display: block;
                min-height: 100vh;
            }

            .container{
                width: 1400px;
                min-height: 650px;
                background-color: #fff;
                padding: 20px;
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                border-radius: 8px;
                margin: 20px auto;
            }

            /*Ph·∫ßn ti√™u ƒë·ªÅ*/
            .header{
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
            }

            /*Thay ƒë·ªïi: th√™m ID v√† ƒë·∫∑t m√†u m·∫∑c ƒë·ªãnh cho ti√™u ƒë·ªÅ*/
            .header-title{
                background-color: #fce4ec; /*h·ªìng nh·∫°t*/
                color: #d81b60;
                padding: 20px 80px;
                border-radius: 8px;
                border: 1px solid #d81b60;
                font-size: 30px;
                font-weight: bold;
            }

            .user-info{
                background-color: #bfa88c;
                color: #fff;
                padding: 20px 80px;
                border-radius: 20px;
                display: flex;
                align-items: center;
                font-size: 30px;
            }

            .user-info i{
                margin-left: 20px;
                font-size: 24px;
            } 

            /*N·ªôi dung ch√≠nh*/
            .main-content {
                display: flex; 
            }

            /*Thanh ƒëi·ªÅu h∆∞·ªõng*/
            .sidebar {
                width: 150px;
                display: flex;
                flex-direction: column;
                gap: 25px;
                margin-right: 20px;
            }

            .item{
                border: none;
                padding: 40px 20px;
                border-radius: 5px;
                text-align: center;
                cursor: pointer;
                font-size: 20px;
                font-weight: bold;
                color: #fff;
                transition: background-color 0.3s;
            }

            /*M√†u cho n√∫t*/
            .item[data-content = "Th√¥ng tin"] {background-color: #4db6ac;}
            .item[data-content = "L·ªõp h·ªçc"] {background-color: #4db6ac;}
            .item[data-content = "Th√¥ng b√°o"] {background-color: #4db6ac;}
            .item.logout {background-color: #66bb6a;} /*ƒêƒÉng xu·∫•t*/
            .item:hover, .item.active {
                opacity: 0.9;
            }

            /*Khu v·ª±c hi·ªÉn th·ªã n·ªôi dung*/
            .content-section {
                display: none; /*·∫®n ƒëi*/
            }
            .content-section.active{
                display: block; /*Hi·ªÉn th·ªã ra*/
            }
            .content-area{
                flex-grow: 1;
            }

            /*B·∫£ng l·ªõp h·ªçc*/
            .class-table{
                width: 100%;
                border-collapse: collapse;
                margin-top: 15px;
            }

            .class-table th, .class-table td{
                border: 1px solid #ddd;
                padding: 8px 10px;
                text-align: left;
                font-size: 14px;
                vertical-align: middle;
            }

            .class-table th{
                background-color: #f2f2f2;
            }

            /*Xem l·ªãch h·ªçc*/
            .schedule-btn{
                background-color: #007bff;
                color: white;
                border: none;
                padding: 5px 10px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 12px;
            }

            .schedule-btn:hover{
                background-color: #0056b3;
            }

            /*Chi ti·∫øt l·ªãch h·ªçc*/
            .schedule-details-container {
                margin-top: 20px;
                border-top: 2px solid #eee;
                padding-top: 15px;
            }

            .schedule-detail-content{
                display: none; /*M·∫∑c ƒë·ªãnh ·∫©n*/
            }

            /*Danh s√°ch bu·ªïi h·ªçc*/
            .session-list{
                list-style-type: none;
                padding-left: 0;
            }

            .session-item{
                padding: 8px;
                margin-bottom: 5px;
                background-color: #f9f9f9;
                border: 1px solid #eee;
                border-radius: 4px;
                cursor: pointer; /*Cho ph√©p b·∫•m v√†o t·ª´ng bu·ªïi*/
            }

            .session-item:hover{
                background-color: #e9e9e9;
            }

            /*Tr·∫°ng th√°i ƒë√£ g·ª≠i*/
            .session-item.submitted {
                background-color: #e0e0e0; /* N·ªÅn x√°m */
                color: #888; /* Ch·ªØ m·ªù */
                cursor: not-allowed; /* Con chu·ªôt b√°o c·∫•m */
                pointer-events: none; /* Kh√≥a kh√¥ng cho b·∫•m chu·ªôt n·ªØa */
                text-decoration: line-through; /* G·∫°ch ngang ch·ªØ */
                border-color: #ccc;
            }
            /*CSS cho POPUP (MODAL)*/
            .modal-overlay {
                position: fixed;
                top: 0; left: 0;
                width: 100%; height: 100%;
                background: rgba(0, 0, 0, 0.5); /* N·ªÅn t·ªëi m·ªù */
                display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
                justify-content: center;
                align-items: center;
                z-index: 1000;
            }

            .modal-box {
                background: white;
                padding: 25px;
                border-radius: 8px;
                width: 500px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                text-align: center;
                position: relative;
            }

            .modal-title {
                margin-top: 0;
                color: #d81b60;
                font-size: 22px;
            }

            .modal-session-info {
                font-weight: bold;
                color: #333;
                margin-bottom: 15px;
                display: block;
            }

            .modal-textarea {
                width: 100%;
                height: 80px;
                margin-bottom: 15px;
                padding: 10px;
                border: 1px solid #ddd;
                border-radius: 5px;
                resize: none; /* Kh√¥ng cho k√©o gi√£n */
                font-family: Arial, sans-serif;
                box-sizing: border-box; /* ƒê·∫£m b·∫£o padding kh√¥ng l√†m v·ª° khung */
            }

            .modal-btn {
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                font-weight: bold;
                color: white;
            }

            .btn-send { background-color: #28a745; margin-right: 10px; }
            .btn-send:hover { background-color: #218838; }
            .btn-cancel { background-color: #dc3545; }
            .btn-cancel:hover { background-color: #c82333; }

            /*Th√¥ng b√°o*/
            .notif-list { 
                display: flex; 
                flex-direction: column; 
                gap: 15px; 
            } /* Kho·∫£ng c√°ch gi·ªØa c√°c th√¥ng b√°o */
        
            .notif-item {
                background-color: #f5f5f5; /* N·ªÅn x√°m */
                border: 1px solid #ddd;
                border-left: 5px solid #d81b60; 
                padding: 20px;
                border-radius: 5px;
                cursor: pointer;
                transition: all 0.2s;
                position: relative;
            }

            .notif-item:hover {
                background-color: #e0e0e0; 
                transform: translateX(5px); 
            }

            .notif-header {
                display: flex;
                justify-content: space-between;
                margin-bottom: 10px;
            }

            .notif-title { 
                font-size: 18px; 
                font-weight: bold; 
                color: #333; 
            }
            .notif-date { 
                font-size: 14px; 
                color: #777; 
                font-style: italic; 
            }
            .notif-preview { 
                font-size: 14px; 
                color: #555; 
                margin: 0; 
            }
            .notif-content-full {
                text-align: left; 
                max-height: 300px;
                overflow-y: auto;
                border: 1px solid #eee;
                padding: 10px;
                margin: 15px 0;
                background: #fafafa;
            }

            /*Th√¥ng tin*/
            .info-box {
                background-color: #fff;
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 20px 40px;
                max-width: 800px; 
                box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            }
            .info-row {
                display: flex;
                padding: 15px 0;
                border-bottom: 1px solid #eee; 
                align-items: center;
            }

            .info-row:last-child {
                border-bottom: none; 
            }

            .info-label {
                width: 200px; 
                font-weight: bold;
                color: #555;
                display: flex;
                align-items: center;
                gap: 10px; 
            }

            .info-label i {
                color: #4db6ac; 
                width: 20px;
                text-align: center;
            }

            .info-value {
                flex-grow: 1; 
                color: #333;
                font-size: 16px;
            }
        </style>
    </head>
    <body>
        <div class = "container">
            <header class = "header">
                <div class = "header-title" id = "main-header-title">Th√¥ng b√°o</div>
                <div class = "user-info">
                    <span>T√™n h·ªçc vi√™n</span>
                    <i class = "fas fa-user-circle"></i>
                </div>
            </header>

            <main class = "main-content">
                <nav class = "sidebar">
                    <button class = "item" data-content = "Th√¥ng tin">Th√¥ng tin</button>
                    <button class = "item" data-content = "L·ªõp h·ªçc">L·ªõp h·ªçc</button>
                    <button class = "item active" data-content = "Th√¥ng b√°o">Th√¥ng b√°o</button>
                    <button class = "item logout" id = "logout-btn">ƒêƒÉng xu·∫•t</button>
                </nav>

                <section class = "content-area">
                    <div id="Th√¥ng tin" class="content-section">
                        <h3>Th√¥ng tin c√° nh√¢n h·ªçc vi√™n</h3>
    
                        <div class="info-box">
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-id-card"></i> M√£ h·ªçc vi√™n:</span>
                                <span class="info-value">HV2025001</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-user"></i> H·ªç v√† t√™n:</span>
                                <span class="info-value" style="font-weight: bold; color: #d81b60;">Nguy·ªÖn B√°ch Khoa</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-birthday-cake"></i> Ng√†y sinh:</span>
                                <span class="info-value">15/08/2005</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-venus-mars"></i> Gi·ªõi t√≠nh:</span>
                                <span class="info-value">Nam</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-map-marker-alt"></i> ƒê·ªãa ch·ªâ:</span>
                                <span class="info-value">S·ªë 1, ƒê·∫°i C·ªì Vi·ªát, Hai B√† Tr∆∞ng, H√† N·ªôi</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-phone-alt"></i> SƒêT h·ªçc vi√™n:</span>
                                <span class="info-value">0909 123 456</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-users"></i> SƒêT ph·ª• huynh:</span>
                                <span class="info-value">0918 888 999 (M·∫π)</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label"><i class="fas fa-envelope"></i> Email:</span>
                                <span class="info-value">nguyenvana@student.edu.vn</span>
                            </div>
                        </div>
                    </div>
                    <div id = "L·ªõp h·ªçc" class = "content-section">
                        <h3>C√°c l·ªõp h·ªçc c·ªßa h·ªçc vi√™n</h3>
                        <table class = "class-table">
                            <thead>
                                <tr>
                                    <th>L·ªõp h·ªçc</th>
                                    <th>Ng√†y ƒëƒÉng k√Ω</th>
                                    <th>Ng√†y b·∫Øt ƒë·∫ßu</th>
                                    <th>Ng√†y k·∫øt th√∫c</th>
                                    <th>L·ªãch h·ªçc</th>
                                    <th>H·ªçc ph√≠</th>
                                    <th>Gi√°o vi√™n</th>
                                    <th>ƒêi·ªÉm s·ªë</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>IELTS GRAMMAR</td>
                                    <td>01/09/2025</td>
                                    <td>10/09/2025</td>
                                    <td>10/12/2025</td>
                                    <td>
                                        <button class="schedule-btn" data-target="schedule-cs101">Xem chi ti·∫øt</button>
                                    </td>
                                    <td>3.000.000ƒë</td>
                                    <td>Nguy·ªÖn VƒÉn A</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>IELTS SPEAKING</td>
                                    <td>15/05/2025</td>
                                    <td>01/06/2025</td>
                                    <td>01/09/2025</td>
                                    <td>
                                        <button class="schedule-btn" data-target="schedule-db202">Xem chi ti·∫øt</button>
                                    </td>
                                    <td>2.500.000ƒë</td>
                                    <td>Tr·∫ßn Th·ªã B</td>
                                    <td>A</td>
                                </tr>
                            </tbody>
                        </table>
                        <div id = "schedule-details" class = "schedule-details-container">
                            <div id="schedule-cs101" class="schedule-detail-content">
                                <h4>Chi ti·∫øt l·ªãch h·ªçc: IELTS GRAMMAR</h4>
                                <ul class="session-list">
                                    <li class="session-item" data-session="cs101-b1">Bu·ªïi 1: Gi·ªõi thi·ªáu IELTS (10/09/2025)</li>
                                    <li class="session-item" data-session="cs101-b2">Bu·ªïi 2: Hi·ªán t·∫°i ƒë∆°n (13/09/2025)</li>
                                    <li class="session-item" data-session="cs101-b3">Bu·ªïi 3: Hi·ªán t·∫°i ti·∫øp di·ªÖn (17/09/2025)</li>
                                </ul>
                            </div>
                        
                            <div id="schedule-db202" class="schedule-detail-content">
                                <h4>Chi ti·∫øt l·ªãch h·ªçc: IELTS SPEAKING</h4>
                                <ul class="session-list">
                                    <li class="session-item" data-session="db202-b1">Bu·ªïi 1: Gi·ªõi thi·ªáu IELTS (01/06/2025)</li>
                                    <li class="session-item" data-session="db202-b2">Bu·ªïi 2: Pronunciation (04/06/2025)</li>
                                    <li class="session-item" data-session="db202-b3">Bu·ªïi 3: Vocabulary (08/06/2025)</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="Th√¥ng b√°o" class="content-section active">
                        <h3>Th√¥ng b√°o t·ª´ trung t√¢m</h3>
                        <div class="notif-list">
                            <div class="notif-item" 
                                data-full-text="K√≠nh g·ª≠i c√°c b·∫°n h·ªçc vi√™n,<br><br>Nh√† tr∆∞·ªùng xin th√¥ng b√°o l·ªãch ngh·ªâ l·ªÖ Qu·ªëc Kh√°nh 02/09 nh∆∞ sau:<br>- Th·ªùi gian ngh·ªâ: T·ª´ ng√†y 01/09/2025 ƒë·∫øn h·∫øt ng√†y 04/09/2025.,<br>- Th·ªùi gian ƒëi h·ªçc l·∫°i: Th·ª© Hai, ng√†y 05/09/2025.<br><br>Trong th·ªùi gian ngh·ªâ l·ªÖ, vƒÉn ph√≤ng gi√°o v·ª• s·∫Ω t·∫°m ng∆∞ng ho·∫°t ƒë·ªông. Ch√∫c c√°c b·∫°n v√† gia ƒë√¨nh c√≥ m·ªôt k·ª≥ ngh·ªâ vui v·∫ª v√† an to√†n!<br><br>Tr√¢n tr·ªçng,<br>Ban Gi√°m Hi·ªáu.">
                                <div class="notif-header">
                                    <span class="notif-title">üì£ Th√¥ng b√°o l·ªãch ngh·ªâ l·ªÖ Qu·ªëc Kh√°nh 2/9</span>
                                    <span class="notif-date">28/08/2025</span>
                                </div>
                                <p class="notif-preview">Nh√† tr∆∞·ªùng th√¥ng b√°o l·ªãch ngh·ªâ l·ªÖ Qu·ªëc Kh√°nh t·ª´ ng√†y 01/09...</p>
                            </div>

                            <div class="notif-item" 
                                data-full-text="Th√¢n g·ª≠i h·ªçc vi√™n Nguy·ªÖn VƒÉn A,<br><br>H·ªá th·ªëng ghi nh·∫≠n b·∫°n v·∫´n ch∆∞a ho√†n th√†nh h·ªçc ph√≠ cho kh√≥a h·ªçc IELTS Speaking (M√£ l·ªõp: DB202).<br><br>Vui l√≤ng ho√†n t·∫•t ƒë√≥ng h·ªçc ph√≠ tr∆∞·ªõc ng√†y 10/06/2025 ƒë·ªÉ ƒë·∫£m b·∫£o quy·ªÅn l·ª£i tham gia thi cu·ªëi kh√≥a.<br>Th√¥ng tin chuy·ªÉn kho·∫£n:<br>- Ng√¢n h√†ng: MB Bank<br>- STK: 99998888<br>- N·ªôi dung: TenHocVien_MaLop<br><br>N·∫øu b·∫°n ƒë√£ ƒë√≥ng, vui l√≤ng b·ªè qua th√¥ng b√°o n√†y ho·∫∑c li√™n h·ªá ph√≤ng t√†i ch√≠nh.">
                                <div class="notif-header">
                                    <span class="notif-title">‚ö†Ô∏è Nh·∫Øc nh·ªü ƒë√≥ng h·ªçc ph√≠ ƒë·ª£t 2</span>
                                    <span class="notif-date">03/06/2025</span>
                                </div>
                                <p class="notif-preview">Vui l√≤ng ho√†n t·∫•t ƒë√≥ng h·ªçc ph√≠ tr∆∞·ªõc ng√†y 10/06/2025...</p>
                            </div>

                            <div class="notif-item" 
                                data-full-text="Ch√†o c√°c b·∫°n,<br><br>L·ªãch thi cu·ªëi kh√≥a l·ªõp IELTS GRAMMAR ƒë√£ ch√≠nh th·ª©c ƒë∆∞·ª£c ·∫•n ƒë·ªãnh:<br>- Ng√†y thi: 15/12/2025<br>- Gi·ªù thi: 08:30 S√°ng<br>- Ph√≤ng thi: P.301, T√≤a nh√† A<br><br>L∆∞u √Ω:<br>1. H·ªçc vi√™n c√≥ m·∫∑t tr∆∞·ªõc 15 ph√∫t.<br>2. Mang theo CCCD ho·∫∑c Th·∫ª h·ªçc vi√™n.<br>3. Kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng t√†i li·ªáu trong ph√≤ng thi.<br><br>Ch√∫c c√°c b·∫°n √¥n thi th·∫≠t t·ªët!">
                                <div class="notif-header">
                                    <span class="notif-title">üìÖ L·ªãch thi cu·ªëi kh√≥a l·ªõp Grammar</span>
                                    <span class="notif-date">01/12/2025</span>
                                </div>
                                <p class="notif-preview">L·ªãch thi cu·ªëi kh√≥a s·∫Ω di·ªÖn ra v√†o ng√†y 15/12/2025...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
        <div id="absence-modal" class="modal-overlay">
            <div class="modal-box">
                <h3 class="modal-title">ƒê∆°n xin ngh·ªâ ph√©p</h3>
                <span id="modal-session-name" class="modal-session-info">...</span>
                <textarea id="absence-reason" class="modal-textarea" placeholder="Nh·∫≠p l√Ω do xin ngh·ªâ c·ªßa b·∫°n..."></textarea>
                <div class="modal-buttons">
                    <button id="btn-submit-absence" class="modal-btn btn-send">G·ª≠i ƒë∆°n</button>
                    <button id="btn-close-modal" class="modal-btn btn-cancel">H·ªßy</button>
                </div>
            </div>
        </div>
        <div id="notification-modal" class="modal-overlay">
            <div class="modal-box">
                <h3 id="notif-modal-title" class="modal-title">Ti√™u ƒë·ªÅ th√¥ng b√°o</h3>
                <span id="notif-modal-date" style="color: #777; font-size: 14px; display: block; margin-bottom: 10px;">Ng√†y</span>
                <hr style="border: 0; border-top: 1px solid #eee;">
                <div id="notif-modal-content" class="notif-content-full"></div>
                <button id="btn-close-notif" class="modal-btn btn-cancel" style="background-color: #666;">ƒê√≥ng</button>
            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                //L·∫•y c√°c ph·∫ßn t·ª≠ ƒëi·ªÅu h∆∞·ªõng ch√≠nh
                const items = document.querySelectorAll('.item:not(.logout)');
                const mainHeaderTitle = document.getElementById('main-header-title');
                const logoutBtn = document.getElementById('logout-btn');
                const contentSections = document.querySelectorAll('.content-section');

                //L·∫•y c√°c ph·∫ßn t·ª≠ t∆∞∆°ng t√°c trong L·ªõp h·ªçc
                const scheduleButtons = document.querySelectorAll('.schedule-btn');
                const scheduleDetailContents = document.querySelectorAll('.schedule-detail-content');
                const sessionItems = document.querySelectorAll('.session-item');

                //L·∫•y c√°c ph·∫ßn t·ª≠ x·ª≠ l√Ω xin ngh·ªâ
                const modalAbsence = document.getElementById('absence-modal');
                const modalSessionName = document.getElementById('modal-session-name');
                const reasonInput = document.getElementById('absence-reason');
                const btnSubmit = document.getElementById('btn-submit-absence');
                const btnClose = document.getElementById('btn-close-modal');
                let currentSessionItem = null;
                //Th√¥ng b√°o
                const modalNotif = document.getElementById('notification-modal');
                const notifItems = document.querySelectorAll('.notif-item');
                const notifModalTitle = document.getElementById('notif-modal-title');
                const notifModalDate = document.getElementById('notif-modal-date');
                const notifModalContent = document.getElementById('notif-modal-content');
                const btnCloseNotif = document.getElementById('btn-close-notif');

                //H√†m x·ª≠ l√Ω s·ª± ki·ªán click
                items.forEach(item => {
                    item.addEventListener('click', () => {
                        const targetId = item.getAttribute('data-content');
                        const targetContent = document.getElementById(targetId);
                        const newHeaderTitle = item.textContent;
                        mainHeaderTitle.textContent = newHeaderTitle;

                        //·∫®n t·∫•t c·∫£ n·ªôi dung v√† b·ªè active
                        contentSections.forEach(section => section.classList.remove('active'));
                        items.forEach(i => i.classList.remove('active'));

                        //Hi·ªÉn th·ªã n·ªôi dung ƒë∆∞·ª£c ch·ªçn
                        if(targetContent) {
                            targetContent.classList.add('active');
                        }
                        item.classList.add('active');

                        //Khi chuy·ªÉn tab, ·∫©n h·∫øt c√°c l·ªãch h·ªçc chi ti·∫øt
                        scheduleDetailContents.forEach(content => {
                            content.style.display = 'none';
                        });
                    });
                });
                //X·ª≠ l√Ω n√∫t ƒëƒÉng xu·∫•t
                if (logoutBtn){
                    logoutBtn.addEventListener('click',() => {
                      //Y√™u c·∫ßu ƒëƒÉng xu·∫•t
                        alert('B·∫°n ƒë√£ ƒëƒÉng xu·∫•t th√†nh c√¥ng!');
                    });
                }

                //X·ª≠ l√Ω n√∫t "xem chi ti·∫øt" l·ªãch h·ªçc
                scheduleButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        //L·∫•y ID m·ª•c ti√™u t·ª´ data-target
                        const targetId = button.getAttribute('data-target');
                        const targetSchedule = document.getElementById(targetId);
                        //·∫®n t·∫•t c·∫£ c√°c l·ªãch h·ªçc chi ti·∫øt kh√°c
                        scheduleDetailContents.forEach(content => {
                            content.style.display = 'none';
                        });
                        //Hi·ªÉn th·ªã l·ªãch h·ªçc t∆∞∆°ng ·ª©ng
                        if(targetSchedule){
                            targetSchedule.style.display = 'block';
                        }
                    });
                });

                //X·ª≠ l√Ω click v√†o t·ª´ng bu·ªïi h·ªçc
                sessionItems.forEach(item => {
                    item.addEventListener('click', () => {
                        // Ki·ªÉm tra: N·∫øu ƒë√£ n·ªôp r·ªìi (c√≥ class submitted) th√¨ kh√¥ng l√†m g√¨ c·∫£
                        if (item.classList.contains('submitted')) return;
                        //L∆∞u l·∫°i bu·ªïi h·ªçc ƒëang b·∫•m v√†o bi·∫øn currentSessionItem
                        currentSessionItem = item;
                        modalSessionName.textContent = item.textContent; //L·∫•y n·ªôi dung
                        reasonInput.value = ""; //X√≥a l√Ω do c≈©
                        modalAbsence.style.display = "flex";
                    });
                });
                
                // Khi b·∫•m n√∫t "G·ª≠i ƒë∆°n"
                btnSubmit.addEventListener('click', () => {
                    const reason = reasonInput.value.trim();
                    if (reason === "") {
                        alert("Vui l√≤ng nh·∫≠p l√Ω do xin ngh·ªâ!");
                        return;
                    }
                    // Gi·∫£ l·∫≠p g·ª≠i th√†nh c√¥ng
                    alert("ƒê√£ g·ª≠i ƒë∆°n xin ngh·ªâ th√†nh c√¥ng!\n\nBu·ªïi: " + modalSessionName.textContent + "\nL√Ω do: " + reason);

                    //ƒê√ÅNH D·∫§U L√Ä ƒê√É N·ªòP
                    if (currentSessionItem) {
                        currentSessionItem.classList.add('submitted'); // Th√™m class CSS
                        // Th√™m ch·ªØ (ƒê√£ g·ª≠i) v√†o sau t√™n bu·ªïi h·ªçc
                        currentSessionItem.innerHTML += " <b>(ƒê√£ g·ª≠i ƒë∆°n)</b>";
                    }
                    modalAbsence.style.display = "none"; // ƒê√≥ng popup
                });

                // Khi b·∫•m n√∫t "H·ªßy"
                btnClose.addEventListener('click', () => {
                    modalAbsence.style.display = "none";
                });

                //X·ª≠ l√Ω Popup Th√¥ng b√°o
                notifItems.forEach(item => {
                    item.addEventListener('click', () => {
                        // L·∫•y d·ªØ li·ªáu t·ª´ th·∫ª HTML
                        const title = item.querySelector('.notif-title').textContent;
                        const date = item.querySelector('.notif-date').textContent;
                        const fullText = item.getAttribute('data-full-text');
                        // G√°n v√†o Popup
                        notifModalTitle.textContent = title;
                        notifModalDate.textContent = date;
                        notifModalContent.innerHTML = fullText;
                        // Hi·ªán Popup
                        modalNotif.style.display = "flex";
                    });
                });

                //ƒê√≥ng Popup Th√¥ng b√°o
                btnCloseNotif.addEventListener('click', () => {
                    modalNotif.style.display = "none"
                });

                // ƒê√≥ng popup khi b·∫•m ra ngo√†i v√πng tr·∫Øng
                window.addEventListener('click', (e) => {
                    if (e.target === modalAbsence) modalAbsence.style.display = "none";
                    if (e.target === modalNotif) modalNotif.style.display = "none";
                });

                //Thi·∫øt l·∫≠p m·∫∑c ƒë·ªãnh l√† th√¥ng b√°o
                const defaultItem = items[2];
                if(defaultItem) {
                    defaultItem.click();
                }
            });
        </script>
    </body>
</html>